/* ===== PHAM: 최종 스타일 (CSS 전면 교체) ===== */

/* [L01] 기본 세팅 */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: "Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: #fff;
  color: #222;
  transition: transform .3s ease;
}

/* [L12] 햄버거 버튼 */
.menu-btn{
  position: fixed; top: 16px; left: 16px;
  z-index: 3000;
  border: 0; background: transparent;
  font-size: 24px; cursor: pointer; color: #222;
}

/* [L21] 사이드 메뉴 */
.side-menu{
  position: fixed; inset: 0 auto 0 0;      /* top:0; left:0; height:100% */
  width: 300px;                             /* ← 메뉴 폭(기본) */
  height: 100vh;
  background: #fff;
  box-shadow: 2px 0 8px rgba(0,0,0,.12);
  transform: translateX(-100%);
  transition: transform .25s ease;
  z-index: 2000;
  overflow-y: auto;                         /* 컨텐츠 길면 스크롤 */
}
.side-menu.active{ transform: translateX(0); }

/* [L37] 메뉴 콘텐트 */
.menu-content{ display: grid; gap: 8px; padding: 64px 12px 20px; }
.menu-content a{
  display: block; padding: 12px 20px; border-radius: 10px;
  text-decoration: none; color: #222; background: #fff;
  box-shadow: inset 0 -1px 0 rgba(0,0,0,.06); white-space: nowrap;
}
.menu-content a:hover{ background: #f7f7f7; }
.menu-content a.spacer-top{ margin-top: 16px; }
.menu-content .submenu.has-gap{ margin-bottom: 16px; }

/* [L49] 서브메뉴 */
.submenu-toggle{
  width: 100%; text-align: left; padding: 12px;
  border: 0; background: #fff; border-radius: 10px;
  box-shadow: inset 0 -1px 0 rgba(0,0,0,.06);
  font: inherit; font-weight: 500; cursor: pointer; color: #222; white-space: nowrap;
}
button.submenu-toggle[aria-expanded="true"]{ font-weight: 600 !important; }

.submenu{
  max-height: 0; overflow: hidden; transition: max-height .25s ease;
  margin: 0; padding: 0 0 0 6px; list-style: none;
}
/* 기본(데스크탑 포함) 펼침 높이 */
.submenu.show{ max-height: 500px; }
.submenu a{ font-size: 15px; }

/* [L67] 콘텐츠 섹션 */
.content{ display: none; min-height: 100vh; padding: 40px; box-sizing: border-box; }
.content.active{
  display: flex; flex-direction: column; justify-content: flex-start;
  align-items: center; padding-top: 120px; text-align: center;
}

/* [L75] 내부 컨테이너 */
.page{ max-width: 900px; width: 100%; padding: 0 24px; }

/* [L79] 로고(항상 중앙) */
:root{ --menu-width: 300px; }  /* JS가 실제 폭으로 덮어씀 */
.logo-center{
  position: fixed; top: 50%; left: 50%;
  transform: translate(-50%,-50%);         /* 기본: 완전 중앙 */
  transition: transform .35s ease;
  z-index: 2500;                            /* 사이드메뉴(2000) 위로 */
  pointer-events: none;
  will-change: transform;
}
/* 데스크탑 로고 크기 */
.logo-center img{
  width: 700px !important; max-width: none !important; height: auto !important;
  transition: transform .35s ease;
}

/* [L95] 데스크탑: 메뉴 열려도 로고는 '남은 영역'의 정중앙으로 이동  */
@media (min-width: 801px){
  /* 사이드 메뉴가 열리면 body에 menu-open 클래스(기존 JS)가 붙음 */
  body.menu-open .logo-center{
    /* 메뉴 폭의 절반만큼 오른쪽으로 이동 → 남은 영역의 중앙 */
    transform: translate(calc(-50% + var(--menu-width) / 2), -50%) !important;
  }
}

/* ========== [L105] 모바일 전용 (≤800px) ========== */
@media (max-width: 800px){

  /* [L108] 모바일 로고 기본 크기 (조절 가능) */
  .logo-center img{
    width: 92vw !important; max-width: none !important; height: auto !important;
  }

  /* [L113] 모바일에서도 메뉴 열리면 오른쪽으로 약간 이동 + 살짝 축소 */
  body.menu-open .logo-center{
    transform: translate(calc(-50% + var(--menu-width)/2), -50%);
  }
  body.menu-open .logo-center img{
    transform: scale(0.9);
  }

  /* [L120] 모바일 스크롤 버그 해결: 메뉴를 독립 스크롤 컨테이너로 */
  .side-menu{
    height: 100dvh;                          /* 동적 뷰포트 (iOS 대응) */
    -webkit-overflow-scrolling: touch;
    padding-bottom: calc(160px + env(safe-area-inset-bottom)); /* 하단 여유 */
  }

  /* [L127] 파트3 서브메뉴 12번까지 확실히 펼쳐지도록 */
  .submenu.show{
    max-height: 9999px !important;           /* 제한 해제 */
  }

  /* [L132] 메뉴 열렸을 때 배경(body) 스크롤 잠금 (튐 현상 방지) */
  body.menu-open{
    overflow: hidden;
    height: 100dvh;
  }
}
